<section>
    <div class="user-auth-img">
        <img src="../../assets/auth-bg.png" alt="">
    </div>
    <div class="user-auth-form">
        <div>
            <div class="auth-title">
                <h1>{{mainTitle}} </h1>
                <p>{{subTitle}} </p>
            </div>
            <form #signUpForm="ngForm" (ngSubmit)="signup(signUpForm)" *ngIf="currentRoute === 'sign-up'">
                <label for="email">Email</label>
                <input type="email" placeholder="enter your email" id="email" required name="email" ngModel
                    #email="ngModel">
                <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger">
                    <small *ngIf="email.errors && email.errors['email']">Email is invalid</small>

                    <small *ngIf="email.errors && email.errors['required']">Email is required</small>
                </div>
                <label for="fName" class="mt-3">Name</label>
                <input type="text" id="fName" placeholder="enter your name" required name="fName" ngModel #name="ngModel">
                <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger">
                    <small *ngIf="name.errors && name.errors['required']">name is required</small>
                </div>
                <label for="password" class="mt-3">Password</label>
                <input type="password" id="password" placeholder="Passowrd" required name="password" ngModel
                    #password="ngModel" minlength="8">
                <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-danger">
                    <small *ngIf="password.errors && password.errors['required']">Password is required</small>
                    <small *ngIf="password.errors && password.errors['minlength']">Minimum use 8 characters </small>
                </div>
                <div class=" row justify-content-between  mt-3 cc-edit">
                    <div class="col-md-6 col-12 ">
                        <label for="country">state</label>
                        <select name="country" id="country" (change)="onCountryChange(country.value)" required name="country" ngModel #country="ngModel">
                            <option *ngFor="let country of countries" [ngValue]="country">{{ country.name }}</option>
                        </select>
                        <div *ngIf="country.invalid && (country.dirty || country.touched)" class="text-danger">
                            <small *ngIf="country.errors && country.errors['required']">country name is required</small>
                        </div>
                    </div>
                  

                    <div class="col-md-6 col-12">
                        <label for="city">City</label>
                        <select name="city" id="city" required name="city" ngModel #city="ngModel">
                            <option *ngFor="let city of cities" [ngValue]="city">{{ city.name }}</option>
                        </select>
                        <div *ngIf="city.invalid && (city.dirty || city.touched)" class="text-danger">
                            <small *ngIf="city.errors && city.errors['required']">city name is required</small>
                        </div>
                    </div>
                   
                </div>
                <label for="Location" class="mt-3">Location</label>
                <input type="text" placeholder="Location" id="Location" required name="location" ngModel
                    #location="ngModel">
                <div *ngIf="location.invalid && (location.dirty || location.touched)" class="text-danger">
                    <small *ngIf="location.errors && location.errors['required']">location is required</small>
                </div>
                <label for="upload photo" class="mt-3">Upload Photo</label>
                <div class="file-upload mt-3">
                  <input type="file" id="upload photo" (change)="onFileSelected($event)">
                  <label for="upload photo" class="upload-label">
                    <span>Choose File</span>
                    <img *ngIf="imagePreview" [src]="imagePreview" alt="Image Preview" class="preview-img" />
                  </label>
                </div>
                
                <button type="submit" class="mt-3">Register</button>
                <br><br>
                <a routerLink="/log-in" class="text-dark">Already have account</a>
            </form>


            <form #loginForm="ngForm" (ngSubmit)="login(loginForm)" *ngIf="currentRoute ==='log-in'" class="mt-5">
                <label for="">Enter Your Name Or Email</label>
                <div class="input-container">
                    <input type="email" placeholder="enter your email" required name="email" ngModel #email="ngModel">
                    <img src="../../assets/user.png" alt="" class=" fa-user">
                </div>
                <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger">
                    <small *ngIf="email.errors && email.errors['required']">Email is required</small>
                </div>

                <label for="passowrd" class="mt-3">Passowrd</label>
                <div class="input-container">
                    <input type="password" name="passowrd" id="passowrd" placeholder="*******" required name="password"
                        ngModel #password="ngModel">
                    <img src="../../assets/pass.png" alt="" class=" fa-user">
                </div>
                <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-danger">
                    <small *ngIf="password.errors && password.errors['required']">Password is required</small>
                </div>

                


                <button type="submit" class="mt-3">log in </button>

                <br>
                <a routerLink="/sign-up" class="text-dark">create account </a>
            </form>
        </div>
    </div>
</section>