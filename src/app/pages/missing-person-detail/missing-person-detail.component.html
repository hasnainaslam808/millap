<section class="conatiner-fluid">
    <div class="col-12 flex">
        <div class="col-12 title">
            <h1>Enter missing person details</h1>
        </div>
        <div class=" form-div">
            <form #missingperson="ngForm" (ngSubmit)="submitForm(missingperson)">

                <label for="name">Full Name</label>
                <input type="text" id="Fullname" required name="name" ngModel #name="ngModel">
                <div *ngIf="name.invalid && (name.dirty || name.touched)" class="text-danger">
                    <small *ngIf="name.errors && name.errors['required']">name is required</small>
                </div>
                <div class="row mt-3">
                    <div class="col-md-4 col-12 ">
                        <label for="country">Country</label>
                        <select name="country" id="country" required name="country" ngModel #country="ngModel">
                            <option selected>USA</option>
                        </select>
                        <div *ngIf="country.invalid && (country.dirty || country.touched)" class="text-danger">
                            <small *ngIf="country.errors && country.errors['required']">country name is required</small>
                        </div>
                    </div>

                    <div class="col-md-4 col-12 ">
                        <label for="state">State</label>
                        <select id="state" required name="state" (change)="onCountryChange(state.value)" ngModel
                            #state="ngModel">
                            <option *ngFor="let country of countries" [ngValue]="country">{{ country.name }}</option>
                        </select>
                        <div *ngIf="state.invalid && (state.dirty || state.touched)" class="text-danger">
                            <small *ngIf="state.errors && state.errors['required']">state name is required</small>
                        </div>
                    </div>

                    <div class="col-md-4 col-12 ">
                        <label for="city">City</label>
                        <select name="city" id="city" required name="city" ngModel #city="ngModel">
                            <option *ngFor="let city of cities" [ngValue]="city">{{ city.name }}</option>
                        </select>
                        <div *ngIf="city.invalid && (city.dirty || city.touched)" class="text-danger">
                            <small *ngIf="city.errors && city.errors['required']">city is required</small>
                        </div>
                    </div>

                </div>
                <label for="Location" class="mt-3">Location</label>
                <input type="text" placeholder="Location" id="Location" required name="Location" ngModel
                    #Location="ngModel">
                <div *ngIf="Location.invalid && (Location.dirty || Location.touched)" class="text-danger">
                    <small *ngIf="Location.errors && Location.errors['required']">Location is required</small>
                </div>
                <div class="relation">
                    <label for="Relationship" class="mt-3">Relationship</label>
                    <input type="text" id="Relationship" required name="Relationship" ngModel #Relationship="ngModel">
                </div>
                <div *ngIf="Relationship.invalid && (Relationship.dirty || Relationship.touched)" class="text-danger">
                    <small *ngIf="Relationship.errors && Relationship.errors['required']">Relationship status is
                        required</small>
                </div>
                <label for="Story" class="mt-3">Story</label>
                <textarea id="story" class="mt-3" required name="Story" ngModel #Story="ngModel"></textarea>
                <div *ngIf="Story.invalid && (Story.dirty || Story.touched)" class="text-danger">
                    <small *ngIf="Story.errors && Story.errors['required']">Story is required</small>
                </div>
                <label for="upload-photo" class="mt-3">Upload Photo</label>
                <div class="file-upload mt-3">
                    <input type="file" id="upload-photo" (change)="onFileSelected($event)" hidden required name="photo"
                        ngModel #photo="ngModel">
                    <label for="upload-photo" class="upload-label">
                        <span>Choose File</span>
                        <img *ngIf="imagePreview" [src]="imagePreview" alt="Image Preview" class="preview-img" />
                    </label>
                </div>
                <div *ngIf="photo.invalid && (photo.dirty || photo.touched)" class="text-danger">
                    <small *ngIf="photo.errors && photo.errors['required']">Photo is required</small>
                </div>
                <br>
                <button type="submit" class="mt-3">Next</button>
            </form>
        </div>
    </div>
</section>